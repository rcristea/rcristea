---
/**
 * ExampleProject3 - Project Body Component (Technical Focus)
 *
 * Displays project with technical/integration focus.
 * Used for API work, backend projects, integrations.
 */

export interface Props {
  name?: string;
  type?: string;
  description?: string;
  apis?: string[];
  architecture?: string[];
  challenges?: { problem: string; solution: string }[];
}

const {
  name = 'Integration Project',
  type = 'API Integration',
  description = 'A robust integration layer connecting multiple third-party services with a unified API.',
  apis = ['Stripe', 'SendGrid', 'Twilio', 'AWS S3'],
  architecture = [
    'RESTful API design with OpenAPI spec',
    'Message queue for async processing',
    'Rate limiting and retry logic',
    'Comprehensive error handling',
  ],
  challenges = [
    {
      problem: 'Handling varying API response times',
      solution: 'Implemented async processing with webhook callbacks',
    },
    {
      problem: 'Managing API rate limits across services',
      solution: 'Built a custom rate limiter with token bucket algorithm',
    },
  ],
} = Astro.props;
---

<div class="event-project-tech">
  <div class="event-project-tech-header">
    <span class="event-project-tech-type">{type}</span>
    <h3 class="event-project-tech-name">{name}</h3>
  </div>

  <p class="event-project-tech-description">{description}</p>

  {apis.length > 0 && (
    <section class="event-project-tech-section">
      <h4>Integrated Services</h4>
      <div class="event-project-tech-apis">
        {apis.map((api) => (
          <div class="event-project-tech-api">
            <span class="event-project-tech-api-icon">ðŸ”—</span>
            <span class="event-project-tech-api-name">{api}</span>
          </div>
        ))}
      </div>
    </section>
  )}

  {architecture.length > 0 && (
    <section class="event-project-tech-section">
      <h4>Architecture</h4>
      <ul class="event-project-tech-list">
        {architecture.map((item) => (
          <li>{item}</li>
        ))}
      </ul>
    </section>
  )}

  {challenges.length > 0 && (
    <section class="event-project-tech-section">
      <h4>Challenges & Solutions</h4>
      <div class="event-project-tech-challenges">
        {challenges.map((challenge) => (
          <div class="event-project-tech-challenge">
            <div class="event-project-tech-problem">
              <span class="event-project-tech-label">Challenge:</span>
              <span>{challenge.problem}</span>
            </div>
            <div class="event-project-tech-solution">
              <span class="event-project-tech-label">Solution:</span>
              <span>{challenge.solution}</span>
            </div>
          </div>
        ))}
      </div>
    </section>
  )}
</div>

<style>
  .event-project-tech {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .event-project-tech-header {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .event-project-tech-type {
    font-size: 0.75rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-primary, #cd1c0b);
  }

  .event-project-tech-name {
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--color-text, #ffffff);
    margin: 0;
  }

  .event-project-tech-description {
    margin: 0;
    line-height: 1.6;
    color: var(--color-text, #ffffff);
  }

  .event-project-tech-section {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .event-project-tech-section h4 {
    font-size: 0.875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-light, #b9b9b9);
    margin: 0;
  }

  .event-project-tech-apis {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .event-project-tech-api {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.375rem 0.75rem;
    background: rgba(255, 255, 255, 0.08);
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .event-project-tech-api-icon {
    font-size: 0.875rem;
  }

  .event-project-tech-api-name {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--color-text, #ffffff);
  }

  .event-project-tech-list {
    margin: 0;
    padding-left: 1.25rem;
    display: flex;
    flex-direction: column;
    gap: 0.375rem;
  }

  .event-project-tech-list li {
    color: var(--color-text, #ffffff);
    line-height: 1.5;
  }

  .event-project-tech-challenges {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .event-project-tech-challenge {
    padding: 0.75rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .event-project-tech-problem,
  .event-project-tech-solution {
    display: flex;
    gap: 0.5rem;
    font-size: 0.875rem;
    line-height: 1.5;
  }

  .event-project-tech-label {
    font-weight: 600;
    color: var(--color-text-light, #b9b9b9);
    white-space: nowrap;
  }

  .event-project-tech-problem span:last-child {
    color: var(--color-text, #ffffff);
  }

  .event-project-tech-solution span:last-child {
    color: var(--color-primary, #cd1c0b);
  }
</style>
